@{
    ViewBag.Title = "Product Dashboard - Ascienti";
}

<!-- Dashboard Header -->
<div class="bg-light py-5 border-bottom">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/" class="text-primary text-decoration-none">Home</a></li>
                        <li class="breadcrumb-item active">Ascienti Asset Management</li>
                    </ol>
                </nav>
                <h1 class="h2">Ascienti Dashboard</h1>
            </div>
            <div class="d-flex gap-2">
                <button class="btn btn-outline-primary"><i class='bx bx-export me-1'></i> Export Data</button>
                <button class="btn btn-primary"><i class='bx bx-plus me-1'></i> Add New Asset</button>
            </div>
        </div>
    </div>
</div>

<div class="container py-5">
    <div class="row g-4">
        <!-- Stats Row -->
        <div class="col-md-3">
            <div class="card border-0 shadow-sm p-3">
                <small class="text-muted text-uppercase fw-bold">Total Assets</small>
                <h2 class="mb-0">1,248</h2>
                <div class="text-success small mt-2"><i class='bx bx-trending-up'></i> +12% this month</div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 shadow-sm p-3">
                <small class="text-muted text-uppercase fw-bold">Active Maintenance</small>
                <h2 class="mb-0">43</h2>
                <div class="text-warning small mt-2"><i class='bx bx-timer'></i> 5 Due this week</div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 shadow-sm p-3">
                <small class="text-muted text-uppercase fw-bold">Inventory Value</small>
                <h2 class="mb-0">â‚¦45.2M</h2>
                <div class="text-secondary small mt-2"><i class='bx bx-info-circle'></i> Audited 2 days ago</div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 shadow-sm p-3">
                <small class="text-muted text-uppercase fw-bold">Decommissioned</small>
                <h2 class="mb-0">12</h2>
                <div class="text-muted small mt-2">Planned: 4 next month</div>
            </div>
        </div>

        <!-- Charts Row -->
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm p-4 h-100">
                <h5 class="fw-bold mb-4">Asset Procurement vs Utilization</h5>
                <div id="asset-chart"></div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card border-0 shadow-sm p-4 h-100">
                <h5 class="fw-bold mb-4">Asset Distribution</h5>
                <div id="donut-chart"></div>
            </div>
        </div>

        <!-- Editor Section -->
        <div class="col-lg-12">
            <div class="card border-0 shadow-sm p-4">
                <h5 class="fw-bold mb-4">Asset Report Generator (Quill & TinyMCE Demo)</h5>
                
                <div class="row g-4">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Internal Note (Quill Editor)</label>
                        <div id="quill-editor" style="height: 200px;">
                            <p>Enter private maintenance notes here...</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Public Report (TinyMCE Simulator)</label>
                        <div class="border rounded p-3 bg-light" style="height: 200px; cursor: not-allowed; opacity: 0.7;">
                            <p><i>TinyMCE Editor Instance would load here in production...</i></p>
                            <div class="mt-3">
                                <strong>Sample Content:</strong>
                                <p>Annual Asset Audit Report - Q1 2026. All systems operational.</p>
                            </div>
                        </div>
                        <small class="text-muted">In production, this integrates with TinyMCE SDK.</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <!-- Quill CSS/JS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <script>
        $(document).ready(function() {
            // ApexCharts - Line/Area
            var options = {
                series: [{
                    name: 'Procured',
                    data: [31, 40, 28, 51, 42, 109, 100]
                }, {
                    name: 'Utilized',
                    data: [11, 32, 45, 32, 34, 52, 41]
                }],
                chart: {
                    height: 350,
                    type: 'area',
                    toolbar: { show: false },
                    fontFamily: 'Nunito, sans-serif'
                },
                colors: ['#F45D48', '#00C2A0'],
                dataLabels: { enabled: false },
                stroke: { curve: 'smooth' },
                xaxis: {
                    categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"]
                },
                tooltip: { x: { format: 'dd/MM/yy HH:mm' } }
            };
            var chart = new ApexCharts(document.querySelector("#asset-chart"), options);
            chart.render();

            // ApexCharts - Donut
            var donutOptions = {
                series: [44, 55, 13, 33],
                chart: {
                    type: 'donut',
                    height: 350
                },
                labels: ['IT Equipment', 'Vehicles', 'Office Furniture', 'Software Licenses'],
                colors: ['#F45D48', '#00C2A0', '#222525', '#007A87'],
                legend: { position: 'bottom' }
            };
            var donutChart = new ApexCharts(document.querySelector("#donut-chart"), donutOptions);
            donutChart.render();

            // Quill Editor
            var quill = new Quill('#quill-editor', {
                theme: 'snow'
            });
        });
    </script>
}
